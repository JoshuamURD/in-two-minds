---
// src/pages/index.astro
import { getCollection } from 'astro:content';
import BaseLayout from '../layouts/BaseLayout.astro';

const essays = (await getCollection('essays'))
  .slice(0, 3);
---

<BaseLayout title="In Two Minds">
  <section class="p-8 bg-gray-100 text-gray-900 font-serif">
    <header class="mb-12">
      <h1 class="text-6xl font-bold text-center mb-4">In Two Minds</h1>
      <p class="text-center text-lg italic">Essays and Discourses on Philosophy, Ethics, and Systems</p>
    </header>
    
    <div class="mb-48 font-mono text-sm text-center">Latest Discourse</div>
    
    {essays.map((essay, index) => (
      <article class="group mb-48 last:mb-0 border-gray-800 pb-8">
        <a 
          href={`/essays/${essay.id}`}
          class="block relative"
        >
          <span class="absolute -left-24 top-0 font-mono text-sm opacity-50">
            {String(index + 1).padStart(2, '0')}
          </span>
          
          <h2 class="text-4xl group-hover:italic transition-all duration-300">
            {essay.data.title}
          </h2>
  
        </a>
      </article>
    ))}
  </section>
</BaseLayout>